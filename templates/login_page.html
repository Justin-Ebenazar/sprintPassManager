<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Auth | Password Manager</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='login_style.css') }}">
</head>

<body>
    <div class="flash-notifications">
        {{ flash }}
        Hello wrold
    </div>
    <div class="auth-container">

        <div id="login-form" class="form-section">
            <h2 style="color: white;">Sign In</h2>
            <form method="POST" action="/login" style="margin-top: 50px;">
                <input type="text" id="login-username" name="username" placeholder="Username" required>

                <label for="login-password"></label>
                <input type="password" id="login-password" name="password" placeholder="Password" required>

                <button type="submit"
                    style="color: rgb(12, 140, 0); background-color: rgb(133, 255, 112) ">Login</button>
            </form>
        </div>

        <div id="signup-form" class="form-section hidden">
            <h2>Sign Up</h2>
            <form method="POST" action="/register" style="margin-top: 50px;">
                <input type="text" id="signup-username" name="username" required placeholder="Username">

                <label for="signup-password"></label>
                <input type="password" id="signup-password" name="password" required placeholder="Password">

                <button type="submit"
                    style="color: rgb(225, 234, 255); background-color: rgb(112, 167, 255) ">Register</button>
            </form>
        </div>

        <div class="form-toggle">
            <p id="login-message">Don't have an account ? </p>
            <button id="show-login" class="active">Sign In</button>
            <button id="show-signup">Create one</button>
        </div>
    </div>

    <script>
        const loginBtn = document.getElementById('show-login');
        const signupBtn = document.getElementById('show-signup');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const loginMessage = document.getElementById('login-message');

        loginBtn.onclick = () => {
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            loginBtn.classList.add('active');
            signupBtn.classList.remove('active');
            loginMessage.textContent = "Don't have an account ? ";
        };

        signupBtn.onclick = () => {
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
            signupBtn.classList.add('active');
            loginBtn.classList.remove('active');
            loginMessage.textContent = "Already have an account ? ";
        };


    </script>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <script>
        alert("{{ messages[0] }}");
    </script>
    {% endif %}
    {% endwith %}

</body>

</html>